// ============================================================================
// TRANSLATIONS SYSTEM
// ============================================================================
// Supports Turkish (tr) and English (en) languages
// ============================================================================

export const translations = {
    tr: {
        title: "Neon bloklarÄ± birleÅŸtirerek <strong>2048'e ulaÅŸ!</strong>",
        score: "SKOR",
        best: "EN Ä°YÄ°",
        newGame: "YENÄ° OYUN",
        ghostMode: "HAYALET MOD",
        undo: "GERÄ° AL",
        hint: "Ä°PUCU",
        remove: "SÄ°L",
        gameOver: "SÄ°STEM HATASI",
        youWin: "ZAFER!",
        tryAgain: "Yeniden Dene",
        keepGoing: "Devam Et",
        restart: "Yeniden BaÅŸlat",
        enhancements: "GÃœÃ‡LENDÄ°RMELER",
        menuTitle: "MENÃœ",
        settings: "AYARLAR",
        howToPlay: "NasÄ±l OynanÄ±r",
        language: "Dil",
        buyMeCoffee: "Bana Kahve Al",
        contributeGitHub: "Projeye buradan katkÄ±da bulunabilirsiniz",
        goodStart: "Ä°yi BaÅŸlangÄ±Ã§! ğŸ¯",
        niceProgress: "GÃ¼zel Ä°lerleme! â­",
        halfwayThere: "YarÄ± YoldasÄ±n! ğŸš€",
        almostThere: "Neredeyse Tamam! ğŸ’«",
        youWinMsg: "KAZANDIN! ğŸ‰",
        unstoppable: "DURDURULAMAZ! ğŸ‘‘",
        legendary: "EFSANEVÄ°! ğŸŒŸ",
        comboStreak: "KOMBO SIRA! ğŸ”¥",
        onFire: "ATEÅ GÄ°BÄ°SÄ°N! ğŸ”¥ğŸ”¥",
        unstoppableStreak: "DURDURULAMAZ! ğŸ”¥ğŸ”¥ğŸ”¥",
        legendaryStreak: "EFSANEVÄ°! âš¡",
        languageChanged: "ğŸŒ Dil: TÃ¼rkÃ§e",
        // Info Modal
        infoTitle: "ğŸ® 2048 NEON OYUN",
        howToPlayTitle: "ğŸ“– NasÄ±l OynanÄ±r",
        howToPlayText: "<strong>Ok tuÅŸlarÄ±nÄ±zÄ±</strong> (veya mobilde kaydÄ±rma) kullanarak kartlarÄ± hareket ettirin. AynÄ± sayÄ±ya sahip iki kart birleÅŸtiÄŸinde, tek kart olurlar! AmacÄ±nÄ±z <strong>2048</strong> sayÄ±sÄ±na sahip bir kart oluÅŸturmaktÄ±r.",
        featuresTitle: "âœ¨ Ã–zellikler",
        feature1: "<strong>ğŸ‘» Hayalet Modu:</strong> En iyi oyununuzu gÃ¶rerek karÅŸÄ±laÅŸtÄ±rÄ±n ve geliÅŸtirin",
        feature2: "<strong>ğŸ”¥ SÄ±ra Sistemi:</strong> ArdÄ±ÅŸÄ±k birleÅŸtirmeler iÃ§in bonus puanlar ve Ã¶dÃ¼ller kazanÄ±n",
        feature3: "<strong>âš¡ Ã–zel Kartlar:</strong> ÅimÅŸek (zincirleme), YÄ±ldÄ±z (2x Ã§arpan), Elmas (5x puan)",
        feature4: "<strong>ğŸ¯ Kilometre TaÅŸlarÄ±:</strong> 128, 256, 512, 1024, 2048+ deÄŸerlerine ulaÅŸarak bonus puanlar kazanÄ±n",
        feature5: "<strong>ğŸ’ª GÃ¼Ã§lendirmeler:</strong> Hamleleri geri alÄ±n, ipucu alÄ±n veya kartlarÄ± stratejik olarak silin",
        rewardsTitle: "ğŸ Ã–dÃ¼ller",
        reward1: "<strong>3 SÄ±ra:</strong> +50 puan",
        reward2: "<strong>5 SÄ±ra:</strong> +150 puan",
        reward3: "<strong>7 SÄ±ra:</strong> +300 puan",
        reward4: "<strong>10 SÄ±ra:</strong> +500 puan + Rastgele GÃ¼Ã§lendirme",
        reward5: "<strong>15+ SÄ±ra:</strong> +1000 puan + GÃ¶kkuÅŸaÄŸÄ± efektleri",
        controlsTitle: "ğŸ® Kontroller",
        control1: "<strong>Ok TuÅŸlarÄ±:</strong> KartlarÄ± hareket ettir",
        control2: "<strong>G TuÅŸu:</strong> Hayalet Modunu aÃ§/kapat",
        control3: "<strong>KaydÄ±rma:</strong> Mobilde kartlarÄ± hareket ettir",
        tipsTitle: "ğŸ’¡ Ä°puÃ§larÄ±",
        tip1: "En yÃ¼ksek kartÄ±nÄ±zÄ± bir kÃ¶ÅŸede tutun",
        tip2: "KartlarÄ± belirli bir yÃ¶nde oluÅŸturun",
        tip3: "SÄ±kÄ±ÅŸtÄ±ÄŸÄ±nÄ±zda gÃ¼Ã§lendirmeleri stratejik kullanÄ±n",
        tip4: "Maksimum puan iÃ§in sÄ±ralarÄ± koruyun",
        tip5: "Ã–zel kartlar 5. hamlede ve tahta %75'ten az doluyken gÃ¶rÃ¼nÃ¼r",
        infoFooter: "Ä°yi ÅŸanslar ve iyi eÄŸlenceler! ğŸ‰",
        howToPlayLabel: "NASIL OYNANIR:",
        howToPlayInstruction: "<strong>Ok tuÅŸlarÄ±nÄ±zÄ±</strong> kullanarak kartlarÄ± hareket ettirin. AynÄ± sayÄ±daki iki kart birleÅŸtiÄŸinde, <strong>tek kart olurlar!</strong>",
        // Feedback Modal
        feedbackSection: "GERÄ° BÄ°LDÄ°RÄ°M",
        giveFeedback: "Geri Bildirim Ver",
        feedbackTitle: "ğŸ’¬ GÃ¶rÃ¼ÅŸlerinizi Bekliyoruz!",
        feedbackQuestion: "Deneyiminizi nasÄ±l deÄŸerlendirirsiniz?",
        feedbackEmailLabel: "E-posta (isteÄŸe baÄŸlÄ±):",
        feedbackCommentLabel: "Daha fazlasÄ±nÄ± sÃ¶yleyin (isteÄŸe baÄŸlÄ±):",
        feedbackPlaceholder: "Oyun hakkÄ±ndaki dÃ¼ÅŸÃ¼ncelerinizi paylaÅŸÄ±n...",
        submitFeedback: "Geri Bildirim GÃ¶nder",
        skipFeedback: "Belki Sonra",
        dontShowAgain: "Bunu tekrar gÃ¶sterme",
        dontShowInfoAgain: "Bunu tekrar gÃ¶sterme",
        feedbackThankYou: "TeÅŸekkÃ¼rler! Geri bildiriminiz gÃ¶nderildi. ğŸ‰",
        feedbackError: "Geri bildirim gÃ¶nderilemedi. LÃ¼tfen tekrar deneyin."
    },
    en: {
        title: "Merge the <strong>neon blocks</strong> to reach <strong>2048!</strong>",
        score: "SCORE",
        best: "BEST",
        newGame: "NEW GAME",
        ghostMode: "GHOST MODE",
        undo: "UNDO",
        hint: "HINT",
        remove: "REMOVE",
        gameOver: "SYSTEM FAILURE",
        youWin: "VICTORY!",
        tryAgain: "Reboot",
        keepGoing: "Continue",
        restart: "Restart",
        enhancements: "ENHANCEMENTS",
        menuTitle: "MENU",
        settings: "SETTINGS",
        howToPlay: "How to Play",
        language: "Language",
        buyMeCoffee: "Buy Me a Coffee",
        contributeGitHub: "You can contribute to the project here",
        goodStart: "Good Start! ğŸ¯",
        niceProgress: "Nice Progress! â­",
        halfwayThere: "Halfway There! ğŸš€",
        almostThere: "Almost There! ğŸ’«",
        youWinMsg: "YOU WIN! ğŸ‰",
        unstoppable: "UNSTOPPABLE! ğŸ‘‘",
        legendary: "LEGENDARY! ğŸŒŸ",
        comboStreak: "COMBO STREAK! ğŸ”¥",
        onFire: "ON FIRE! ğŸ”¥ğŸ”¥",
        unstoppableStreak: "UNSTOPPABLE! ğŸ”¥ğŸ”¥ğŸ”¥",
        legendaryStreak: "LEGENDARY! âš¡",
        languageChanged: "ğŸŒ Language: English",
        // Info Modal
        infoTitle: "ğŸ® 2048 NEON GAME",
        howToPlayTitle: "ğŸ“– How to Play",
        howToPlayText: "Use your <strong>arrow keys</strong> (or swipe on mobile) to move tiles. When two tiles with the same number touch, they merge into one! Your goal is to create a tile with the number <strong>2048</strong>.",
        featuresTitle: "âœ¨ Features",
        feature1: "<strong>ğŸ‘» Ghost Mode:</strong> See your best game overlay to compare and improve",
        feature2: "<strong>ğŸ”¥ Streak System:</strong> Build consecutive merge streaks for bonus points and rewards",
        feature3: "<strong>âš¡ Special Cards:</strong> Lightning (chain reaction), Star (2x multiplier), Diamond (5x points)",
        feature4: "<strong>ğŸ¯ Milestones:</strong> Earn bonus points for reaching 128, 256, 512, 1024, 2048+",
        feature5: "<strong>ğŸ’ª Power-Ups:</strong> Undo moves, get hints, or remove tiles strategically",
        rewardsTitle: "ğŸ Rewards",
        reward1: "<strong>3 Streak:</strong> +50 points",
        reward2: "<strong>5 Streak:</strong> +150 points",
        reward3: "<strong>7 Streak:</strong> +300 points",
        reward4: "<strong>10 Streak:</strong> +500 points + Random Power-Up",
        reward5: "<strong>15+ Streak:</strong> +1000 points + Rainbow effects",
        controlsTitle: "ğŸ® Controls",
        control1: "<strong>Arrow Keys:</strong> Move tiles",
        control2: "<strong>G Key:</strong> Toggle Ghost Mode",
        control3: "<strong>Swipe:</strong> Move tiles on mobile",
        tipsTitle: "ğŸ’¡ Tips",
        tip1: "Keep your highest tile in a corner",
        tip2: "Build tiles in a specific direction",
        tip3: "Use power-ups strategically when stuck",
        tip4: "Maintain streaks for maximum points",
        tip5: "Special cards appear after move 5 when board is less than 75% full",
        infoFooter: "Good luck and have fun! ğŸ‰",
        howToPlayLabel: "HOW TO PLAY:",
        howToPlayInstruction: "Use your <strong>arrow keys</strong> to move the tiles. When two tiles with the same number touch, they <strong>merge into one!</strong>",
        // Feedback Modal
        feedbackSection: "FEEDBACK",
        giveFeedback: "Give Feedback",
        feedbackTitle: "ğŸ’¬ We'd Love Your Feedback!",
        feedbackQuestion: "How would you rate your experience?",
        feedbackEmailLabel: "Email (optional):",
        feedbackCommentLabel: "Tell us more (optional):",
        feedbackPlaceholder: "Share your thoughts about the game...",
        submitFeedback: "Submit Feedback",
        skipFeedback: "Maybe Later",
        dontShowAgain: "Don't show this again",
        dontShowInfoAgain: "Don't show this again",
        feedbackThankYou: "Thank you! Your feedback has been sent. ğŸ‰",
        feedbackError: "Failed to send feedback. Please try again."
    }
};

// Current language state
let currentLanguage = localStorage.getItem('game-language') || 'en';

// Get translation by key
export function t(key) {
    // Always read from localStorage to ensure we use the current language
    const lang = localStorage.getItem('game-language') || 'en';
    return translations[lang][key] || key;
}

// Get current language
export function getCurrentLanguage() {
    return currentLanguage;
}

// Set current language
export function setCurrentLanguage(lang) {
    if (translations[lang]) {
        currentLanguage = lang;
        localStorage.setItem('game-language', lang);
        return true;
    }
    return false;
}

// Update all UI texts with current language
export function updateAllTexts() {
    // Update all elements with data-translate attribute
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        element.innerHTML = t(key);
    });
    
    // Update game over/win screens
    const gameOverScreen = document.querySelector('.game-over');
    const gameOverText = gameOverScreen?.querySelector('p');
    if (gameOverText) gameOverText.textContent = t('gameOver');
    
    const winScreen = document.querySelector('.win');
    const winText = winScreen?.querySelector('p');
    if (winText) winText.textContent = t('youWin');
    
    // Update button texts
    const tryAgainBtn = document.getElementById('try-again');
    const keepGoingBtn = document.getElementById('keep-going');
    const newGameBtn2 = document.getElementById('new-game-2');
    
    if (tryAgainBtn) tryAgainBtn.textContent = t('tryAgain');
    if (keepGoingBtn) keepGoingBtn.textContent = t('keepGoing');
    if (newGameBtn2) newGameBtn2.textContent = t('restart');
    
    // Update feedback textarea placeholder
    const feedbackComment = document.getElementById('feedback-comment');
    if (feedbackComment) feedbackComment.placeholder = t('feedbackPlaceholder');
}

// Toggle between Turkish and English
export function toggleLanguage() {
    currentLanguage = currentLanguage === 'tr' ? 'en' : 'tr';
    localStorage.setItem('game-language', currentLanguage);
    return currentLanguage;
}
