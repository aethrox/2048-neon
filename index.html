<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0a0e27">
    <title>2048 - Cyberpunk Edition</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="apple-touch-icon" href="favicon.svg">
    
    <!-- Modular CSS -->
    <link rel="stylesheet" href="src/css/main.css">
    <!-- Original CSS (temporary - for remaining styles) -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Hamburger Menu Button - Top Left -->
    <button id="menu-btn" class="hamburger-btn" aria-label="Open Menu">‚ò∞</button>
    
    <!-- Hamburger Menu Overlay -->
    <div id="menu-overlay" class="menu-overlay">
        <div class="menu-sidebar">
            <div class="menu-header">
                <h2 class="menu-title" data-translate="menuTitle">üéÆ MENU</h2>
                <button id="menu-close" class="menu-close" aria-label="Close Menu">‚úï</button>
            </div>
            <div class="menu-items">
                <!-- Main Actions -->
                <button id="new-game-menu" class="menu-item" data-translate="newGame">
                    <svg class="menu-svg-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 5v14M5 12h14"/>
                    </svg>
                    <span>New Game</span>
                </button>
                <button id="ghost-toggle-menu" class="menu-item ghost-toggle">
                    <svg class="menu-svg-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2c-4.4 0-8 3.6-8 8v8c0 .6.4 1 1 1h2l1-3h8l1 3h2c.6 0 1-.4 1-1v-8c0-4.4-3.6-8-8-8zm-3 11c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm6 0c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"/>
                    </svg>
                    <span data-translate="ghostMode">Ghost Mode</span>
                </button>
                
                <!-- Utility Section -->
                <div class="menu-section-title" data-translate="settings">
                    <svg class="menu-svg-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M12 1v6m0 6v6M1 12h6m6 0h6m-2.5-7.5l-4.2 4.2m0 4.6l4.2 4.2M6.7 6.7l4.2 4.2m0 4.6l-4.2 4.2"/>
                    </svg>
                    <span>SETTINGS</span>
                </div>
                
                <button id="info-btn-menu" class="menu-item">
                    <span class="menu-item-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 16v-4m0-4h.01"/>
                        </svg>
                    </span>
                    <span class="menu-item-text" data-translate="howToPlay">How to Play</span>
                </button>
                
                <button id="language-btn-menu" class="menu-item">
                    <span class="menu-item-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                        </svg>
                    </span>
                    <span class="menu-item-text"><span data-translate="language">Language</span>: <span id="language-text-menu">EN</span></span>
                </button>
                
                <a href="https://buymeacoffee.com/aethrox" target="_blank" rel="noopener noreferrer" class="menu-item menu-link" title="Support this project">
                    <span class="menu-item-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 8h1a4 4 0 0 1 0 8h-1M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/>
                            <line x1="6" y1="1" x2="6" y2="4"/>
                            <line x1="10" y1="1" x2="10" y2="4"/>
                            <line x1="14" y1="1" x2="14" y2="4"/>
                        </svg>
                    </span>
                    <span class="menu-item-text" data-translate="buyMeCoffee">Buy Me a Coffee</span>
                </a>
                
                <a href="https://github.com/aethrox/2048-neon" target="_blank" rel="noopener noreferrer" class="menu-item menu-link" title="Contribute to the project">
                    <span class="menu-item-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                    </span>
                    <span class="menu-item-text" data-translate="contributeGitHub">You can contribute to the project here</span>
                </a>
                
                <!-- Feedback Section -->
                <div class="menu-section-title" data-translate="feedbackSection">
                    <svg class="menu-svg-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                    </svg>
                    <span>FEEDBACK</span>
                </div>
                
                <button id="feedback-btn-menu" class="menu-item">
                    <span class="menu-item-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
                        </svg>
                    </span>
                    <span class="menu-item-text" data-translate="giveFeedback">Give Feedback</span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Main Content Container -->
    <div class="container">
        <!-- Game Title -->
        <div class="header">
            <h1>2048</h1>
        </div>
        
        <!-- Streak Display (shows when active) -->
        <div id="streak-display" class="streak-display">
            <span class="streak-icon">üî•</span>
            <span class="streak-count">0</span>
        </div>
        
        <!-- Game Subtitle -->
        <div class="game-intro">
            <p class="game-subtitle" data-translate="title">Merge the <strong>neon blocks</strong> to reach <strong>2048!</strong></p>
        </div>
        
        <!-- Score Display - Centered Above Game -->
        <div class="score-container">
            <div class="score-box">
                <span class="score-title" data-translate="score">SCORE</span>
                <span id="score">0</span>
            </div>
            <div class="score-box">
                <span class="score-title" data-translate="best">BEST</span>
                <span id="best-score">0</span>
            </div>
        </div>
        
        <!-- Game Area: Board + Power-ups Side by Side -->
        <div class="game-layout">
            <!-- Game Board -->
            <div class="game-container">
                <div class="grid"></div>
                <div class="game-over">
                    <p>SYSTEM FAILURE</p>
                    <button id="try-again">Reboot</button>
                </div>
                <div class="win">
                    <p>VICTORY!</p>
                    <button id="keep-going">Continue</button>
                    <button id="new-game-2">Restart</button>
                </div>
            </div>
            
            <!-- Power-Ups Sidebar -->
            <div class="powerups-sidebar">
                <div class="powerups-title" data-translate="enhancements">
                    <svg class="title-svg-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M13 2L3 14h8l-1 8 10-12h-8l1-8z"/>
                    </svg>
                    <span>ENHANCEMENTS</span>
                </div>
                <button id="undo-btn" class="powerup-btn" title="Undo last move">
                    <span class="powerup-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                            <path d="M3 7v6h6"/>
                            <path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"/>
                        </svg>
                    </span>
                    <span class="powerup-name" data-translate="undo">UNDO</span>
                    <span class="powerup-count" id="undo-count">3</span>
                </button>
                <button id="hint-btn" class="powerup-btn" title="Show best move">
                    <span class="powerup-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M9 18h6"/>
                            <path d="M10 22h4"/>
                            <path d="M15 2a6 6 0 0 1 0 12H9a6 6 0 0 1 0-12z"/>
                        </svg>
                    </span>
                    <span class="powerup-name" data-translate="hint">HINT</span>
                    <span class="powerup-count" id="hint-count">5</span>
                </button>
                <button id="remove-btn" class="powerup-btn" title="Remove any tile">
                    <span class="powerup-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                            <path d="M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                            <line x1="10" y1="11" x2="10" y2="17"/>
                            <line x1="14" y1="11" x2="14" y2="17"/>
                        </svg>
                    </span>
                    <span class="powerup-name" data-translate="remove">REMOVE</span>
                    <span class="powerup-count" id="remove-count">2</span>
                </button>
            </div>
        </div>
        
        <!-- Instructions -->
        <p class="game-explanation">
            <strong data-translate="howToPlayLabel">HOW TO PLAY:</strong> <span data-translate="howToPlayInstruction">Use your <strong>arrow keys</strong> to move the tiles. When two tiles with the same number touch, they <strong>merge into one!</strong></span>
        </p>
    </div>
    
    <!-- Feedback Modal -->
    <div id="feedback-modal" class="feedback-modal">
        <div class="feedback-modal-content">
            <button class="feedback-close">&times;</button>
            <h2 data-translate="feedbackTitle">üí¨ We'd Love Your Feedback!</h2>
            
            <div class="feedback-section">
                <p class="feedback-question" data-translate="feedbackQuestion">How would you rate your experience?</p>
                <div class="star-rating">
                    <span class="star" data-rating="1">‚òÜ</span>
                    <span class="star" data-rating="2">‚òÜ</span>
                    <span class="star" data-rating="3">‚òÜ</span>
                    <span class="star" data-rating="4">‚òÜ</span>
                    <span class="star" data-rating="5">‚òÜ</span>
                </div>
            </div>
            
            <div class="feedback-section">
                <label for="feedback-email" data-translate="feedbackEmailLabel">Email (optional):</label>
                <input 
                    type="email" 
                    id="feedback-email" 
                    class="feedback-email" 
                    placeholder="your@email.com">
            </div>
            
            <div class="feedback-section">
                <label for="feedback-comment" data-translate="feedbackCommentLabel">Tell us more (optional):</label>
                <textarea 
                    id="feedback-comment" 
                    class="feedback-comment" 
                    maxlength="500" 
                    rows="4"
                    placeholder=""></textarea>
                <div class="character-count">
                    <span id="char-count">0</span>/500
                </div>
            </div>
            
            <div class="feedback-actions">
                <button id="submit-feedback-btn" class="feedback-btn primary" disabled data-translate="submitFeedback">Submit Feedback</button>
                <button id="skip-feedback-btn" class="feedback-btn secondary" data-translate="skipFeedback">Maybe Later</button>
            </div>
            
            <div class="feedback-footer">
                <label class="feedback-checkbox">
                    <input type="checkbox" id="dont-show-again">
                    <span data-translate="dontShowAgain">Don't show this again</span>
                </label>
            </div>
        </div>
    </div>
    
    <!-- Info Modal -->
    <div id="info-modal" class="info-modal">
        <div class="info-modal-content">
            <button class="info-close">&times;</button>
            <h2 data-translate="infoTitle">üéÆ 2048 NEON GAME</h2>
            
            <div class="info-section">
                <h3 data-translate="howToPlayTitle">üìñ How to Play</h3>
                <p data-translate="howToPlayText">Use your <strong>arrow keys</strong> to move the tiles. When two tiles with the same number touch, they <strong>merge into one!</strong></p>
            </div>
            
            <div class="info-section">
                <h3 data-translate="featuresTitle">‚ú® Features</h3>
                <ul>
                    <li data-translate="feature1"><strong>üëª Ghost Mode:</strong> See your best game overlay to compare and improve</li>
                    <li data-translate="feature2"><strong>üî• Streak System:</strong> Build consecutive merge streaks for bonus points and rewards</li>
                    <li data-translate="feature3"><strong>‚ö° Special Cards:</strong> Lightning (chain reaction), Star (2x multiplier), Diamond (5x points)</li>
                    <li data-translate="feature4"><strong>üéØ Milestones:</strong> Earn bonus points for reaching 128, 256, 512, 1024, 2048+</li>
                    <li data-translate="feature5"><strong>üí™ Power-Ups:</strong> Undo moves, get hints, or remove tiles strategically</li>
                </ul>
            </div>
            
            <div class="info-section">
                <h3 data-translate="rewardsTitle">üéÅ Rewards</h3>
                <ul>
                    <li data-translate="reward1"><strong>3 Streak:</strong> +50 points</li>
                    <li data-translate="reward2"><strong>5 Streak:</strong> +150 points</li>
                    <li data-translate="reward3"><strong>7 Streak:</strong> +300 points</li>
                    <li data-translate="reward4"><strong>10 Streak:</strong> +500 points + Random Power-Up</li>
                    <li data-translate="reward5"><strong>15+ Streak:</strong> +1000 points + Rainbow effects</li>
                </ul>
            </div>
            
            <div class="info-section">
                <h3 data-translate="controlsTitle">üéÆ Controls</h3>
                <ul>
                    <li data-translate="control1"><strong>Arrow Keys:</strong> Move tiles</li>
                    <li data-translate="control2"><strong>G Key:</strong> Toggle Ghost Mode</li>
                    <li data-translate="control3"><strong>Swipe:</strong> Move tiles on mobile</li>
                </ul>
            </div>
            
            <div class="info-section">
                <h3 data-translate="tipsTitle">üí° Tips</h3>
                <ul>
                    <li data-translate="tip1">Keep your highest tile in a corner</li>
                    <li data-translate="tip2">Build tiles in a specific direction</li>
                    <li data-translate="tip3">Use power-ups strategically when stuck</li>
                    <li data-translate="tip4">Maintain streaks for maximum points</li>
                    <li data-translate="tip5">Special cards appear after move 5 when board is less than 75% full</li>
                </ul>
            </div>
            
            <div class="info-footer">
                <p data-translate="infoFooter">Good luck and have fun! üéâ</p>
            </div>
        </div>
    </div>
    
    <!-- Modular JavaScript - REQUIRES HTTP SERVER -->
    <script type="module" src="src/js/main.js"></script>
    
    <!-- Original monolithic version (backup) -->
    <!-- <script src="game.js"></script> -->
</body>
</html>
